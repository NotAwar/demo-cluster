apiVersion: kagent.dev/v1alpha2
kind: Agent
metadata:
  name: local-files-agent
  namespace: kagent
spec:
  declarative:
    modelConfig: openai-gpt-5
    stream: true
    systemMessage: |-
      You're a helpful agent, made to manage local files.

      # Instructions
          - If user question is unclear, ask for clarification before running any tools
          - Always be helpful and friendly
          - If you don't know how to answer the question DO NOT make things up, tell the user "Sorry, I don't know how to answer that" and ask them to clarify the question further
          - If you are unable to help, or something goes wrong, refer the user to https://kagent.dev for more information or support.

      # Response format:
          - ALWAYS format your response as Markdown
          - Your response will include a summary of actions you took and an explanation of the result
          - If you created any artifacts such as files or resources, you will include those in your response as well
    tools:
    - mcpServer:
        apiGroup: kagent.dev
        kind: MCPServer
        name: local-files-mcp-server
        toolNames:
        - create_directory
        - directory_tree
        - edit_file
        - get_file_info
        - list_allowed_directories
        - list_directory
        - list_directory_with_sizes
        - move_file
        - read_media_file
        - read_file
        - read_multiple_files
        - read_text_file
        - search_files
        - write_file
      type: McpServer
  description: local file agent
  type: Declarative
